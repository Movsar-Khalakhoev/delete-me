/*easycache.min.js*/
(function(n,r){"function"==typeof define&&define.amd?define([],r):"undefined"!=typeof module&&module.exports?module.exports=r():n.EasyCache=r()})(this,function(){function n(){var n="__easycachetest__",e=n;if(void 0!==d)return d;try{c(n,e),f(n),d=!0}catch(n){d=!!r(n)}return d}function r(n){return!!(n&&"QUOTA_EXCEEDED_ERR"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name||"QuotaExceededError"===n.name)}function e(){return void 0===p&&(p=null!=window.JSON),p}function t(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function o(n){return n+m}function u(){return Math.floor((new Date).getTime()/y)}function i(n){return localStorage.getItem(g+w+n)}function c(n,r){localStorage.removeItem(g+w+n),localStorage.setItem(g+w+n,r)}function f(n){localStorage.removeItem(g+w+n)}function a(n){for(var r=new RegExp("^"+g+t(w)+"(.*)"),e=localStorage.length-1;e>=0;--e){var u=localStorage.key(e);u=u&&u.match(r),u=u&&u[1],u&&u.indexOf(m)<0&&n(u,o(u))}}function l(n){var r=o(n);f(n),f(r)}function s(n){var r=o(n),e=i(r);if(e){var t=parseInt(e,v);if(u()>=t)return f(n),f(r),!0}}function h(n,r){A&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("JS-EasyCache - "+n),r&&window.console.warn("JS-EasyCache - The error was: "+r.message))}var d,p,g="EasyCache-",m="-cacheexpiration",v=10,y=6e4,C=Math.floor(864e13/y),w="",A=!1,E=(String.fromCharCode,function(){function n(n,r){for(var e=0;r>>=1;e++)a=n>>e&1|a<<1,++l===s&&(l=0,f.push(h(a)),a=0)}function r(n){return v[n]}function e(n){return y[n]}function t(n){return g(n+32)}function o(r,e,t){if(f=[],null!=r){a=0,l=0,s=e,h=t;var o=0,u=0,i=0,c=[3],d=[2,2,c],p=!0,g=0,m=3,v=4;if(r.length){g=r.charCodeAt(0),i=g<256?0:1,n(i,v),n(g,i?65536:256),d[1]=g;n:for(o=1;o<r.length;o++){for(g=r.charCodeAt(o),u=1;u<c.length;u+=2)if(c[u]==g){c=c[u+1];continue n}for(p?p=!1:n(c[0],v),u=1;d[u]!=g&&u<d.length;)u+=2;u==d.length&&(++m>=v&&(v<<=1),i=g<256?0:1,n(i,v),n(g,i?65536:256),d.push(g),d.push([m]),p=!0),c.push(g),c.push([++m]),m>=v&&(v<<=1),c=d[u+1]}for(p?p=!1:n(c[0],v),u=1;d[u]!=g&&u<d.length;)u+=2;u==d.length&&(++m>=v&&(v<<=1),i=g<256?0:1,n(i,v),n(g,i?65536:256)),++m>=v&&(v<<=1)}n(2,v),a<<=s-l,f.push(h(a))}return f}function u(n,r,e){for(var t=[0,1,2],o=4,u=4,i=3,c="",f=[],a="",l=0,s=2,h=0,d="",p=e(0),m=r,v=1;h!=s;)l+=(p>>--m&1)<<h++,0==m&&(m=r,p=e(v++));if(2==l)return"";for(s=8*l+8,l=h=0;h!=s;)l+=(p>>--m&1)<<h++,0==m&&(m=r,p=e(v++));for(d=g(l),t[3]=d,a=d,f.push(d);v<=n;){for(s=i,l=h=0;h!=s;)l+=(p>>--m&1)<<h++,0==m&&(m=r,p=e(v++));if(l<2){for(s=8+8*l,l=h=0;h!=s;)l+=(p>>--m&1)<<h++,0==m&&(m=r,p=e(v++));t[u]=g(l),l=u++,0==--o&&(o=1<<i++)}else if(2==l)return f.join("");if(l>t.length)return null;c=l<t.length?t[l]:a+a.charAt(0),f.push(c),t[u++]=a+c.charAt(0),a=c,0==--o&&(o=1<<i++)}return""}function i(n){return o(n,16,g)}function c(n){return null==n?"":0==n.length?null:u(n.length,16,function(r){return n[r].charCodeAt(0)})}for(var f,a,l,s,h,d=0,p={},g=String.fromCharCode,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+",v=(m+"/=").split(""),y=(m+"-$").split("");d<65;)d>62&&(p[y[d].charCodeAt(0)]=d),p[v[d].charCodeAt(0)]=d++;return{compressToBase64:function(n){if(null==n)return"";for(var e=o(n,6,r),t=e.length%4;t--;)e.push("=");return e.join("")},decompressFromBase64:function(n){return null==n?"":""==n?null:u(n.length,6,function(r){return p[n.charCodeAt(r)]})},compressToUTF16:function(n){if(null==n)return"";var r=o(n,15,t);return r.push(" "),r.join("")},decompressFromUTF16:function(n){return null==n?"":""==n?null:u(n.length,15,function(r){return n.charCodeAt(r)-32})},compressToUint8Array:function(n){for(var r=i(n),e=new Uint8Array(2*r.length),t=0,o=r.length;t<o;t++){var u=r[t].charCodeAt(0);e[2*t]=u>>>8,e[2*t+1]=255&u}return e},decompressFromUint8Array:function(n){return null==n?c(n):0==n.length?null:u(n.length,8,function(r){return n[r]})},compressToEncodedURIComponent:function(n){return null==n?"":o(n,6,e).join("")},decompressFromEncodedURIComponent:function(n){return null==n?"":""==n?null:(n=n.replace(/ /g,"+"),u(n.length,6,function(r){return p[n.charCodeAt(r)]}))},compress:function(n){return i(n).join("")},compressToArray:i,decompress:function(n){return null==n?"":""==n?null:u(n.length,16,function(r){return n.charCodeAt(r)})},decompressFromArray:c}}()),S={set:function(t,s,d){if(n()){if("string"!=typeof s){if(!e())return;try{s=JSON.stringify(s)}catch(n){return}}s&&(s=E.compress(s));try{c(t,s)}catch(n){if(!r(n))return void h("Could not add item with key '"+t+"'",n);var p,g=[];a(function(n,r){var e=i(r);e=e?parseInt(e,v):C,g.push({key:n,size:(i(n)||"").length,expiration:e})}),g.sort(function(n,r){return r.expiration-n.expiration});for(var m=(s||"").length;g.length&&m>0;)p=g.pop(),h("Cache is full, removing item with key '"+t+"'"),l(p.key),m-=p.size;try{c(t,s)}catch(n){return void h("Could not add item with key '"+t+"', perhaps it's too big?",n)}}d?c(o(t),(u()+d).toString(v)):f(o(t))}},get:function(r){if(!n())return null;if(s(r))return null;var t=i(r);if(t&&(t=E.decompress(t)),!t||!e())return t;try{return JSON.parse(t)}catch(n){return t}},remove:function(r){n()&&l(r)},supported:function(){return n()},flush:function(){n()&&a(function(n){l(n)})},flushExpired:function(){n()&&a(function(n){s(n)})},setBucket:function(n){w=n},resetBucket:function(){w=""},enableWarnings:function(n){A=n}};return S});